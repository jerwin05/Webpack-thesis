window.onload=function(){const e=new ol.Map({view:new ol.View({projection:"EPSG:4326",center:[121.2071937966153,14.559724584263174],zoom:16,maxZoom:18,minZoom:12,extent:[115.73596754571534,4.342163340984037,129.2297322655699,21.54980825896372]}),target:"js-map"}),t=new ol.layer.Tile({source:new ol.source.OSM,visible:!0,title:"OSMStandard"}),o=new ol.layer.Tile({source:new ol.source.OSM({url:"http://{a-c}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png"}),visible:!1,title:"OSMHumanitarian"}),l=new ol.layer.Group({layers:[t,o]});e.addLayer(l);const r=document.querySelectorAll(".map--layer>input[type=radio]");for(let e of r)e.addEventListener("change",(()=>{let e=this.value;l.getLayers().forEach(((t,o,l)=>{let r=t.get("title");t.setVisible(r===e)}))}));const n=new ol.style.Stroke({color:"#F4A647",width:2}),a=new ol.layer.Vector({source:new ol.source.Vector({url:"./data/vector data/map.geojson",format:new ol.format.GeoJSON}),visible:!0,title:"teresaBoundaries",style:new ol.style.Style({stroke:n})});e.addLayer(a);var s=new ol.style.Style({text:new ol.style.Text({font:'bold 14.5px "Open Sans", "Arial Unicode MS", "sans-serif"',fill:new ol.style.Fill({color:"#7F7F7F"}),stroke:new ol.style.Stroke({color:"#fff",width:2})})}),i=e.getView().getZoom(),y=14.5;e.on("moveend",(t=>{var o=e.getView().getZoom();i>16.415&&(s=new ol.style.Style({text:new ol.style.Text({font:'bold 0px "Open Sans"'})})),i>o?(o<=16.415&&(y-=i-o),i=o):i<o&&(o<=16.415&&(y+=o-i),i=o),i<=16.415&&i>12.2?s=new ol.style.Style({text:new ol.style.Text({font:`bold ${y}px "Open Sans", "Arial Unicode MS", "sans-serif"`,fill:new ol.style.Fill({color:"#8E8E8E"}),stroke:new ol.style.Stroke({color:"#fff",width:2})})}):i<=12.2&&(s=new ol.style.Style({text:new ol.style.Text({font:'bold 0px "Open Sans"'})})),console.log("after: ",y)}));var p=new ol.source.Vector({features:(new ol.format.GeoJSON).readFeatures({type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:[{type:"Feature",properties:{name:"Poblacion"},geometry:{type:"Point",coordinates:[121.20279474536595,14.562156334590009]}},{type:"Feature",properties:{name:"Prinza"},geometry:{type:"Point",coordinates:[121.21395056628894,14.539799266351995]}},{type:"Feature",properties:{name:"San Roque"},geometry:{type:"Point",coordinates:[121.21470582252093,14.552316640672384]}},{type:"Feature",properties:{name:"Dalig"},geometry:{type:"Point",coordinates:[121.23115009659746,14.571688019526668]}}]})}),c=new ol.layer.Vector({source:p,style:e=>(s.getText().setText(e.get("name")),s)});e.addLayer(c)};